<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Paint with Text | Calligram Creator</title>
    <meta
      name="description"
      content="Combine poetry with brush strokes with this unique form that can only really exist digitally."
    />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href='https://d33wubrfki0l68.cloudfront.net/css/f3733cfea921de99e43917117b73d5f117da0fe7/apps.css' rel='stylesheet' type='text/css'/>
    <script src='https://d33wubrfki0l68.cloudfront.net/js/efa491167ce657b6cf7a23a91d98a5c54df9c417/text/index.js' type='text/javascript'></script>
  </head>

  <body>
    <div class="ui top-left">
      <a class="icon" href="/">
        <img src="https://d33wubrfki0l68.cloudfront.net/c8da8752ff752baf20c1184d519595324a32f000/3a53a/assets/art-icon.png" />
      </a>
    </div>
    <div class="ui top-right">
      <a class="icon" href="about">
        <p>Testando <img src="https://d33wubrfki0l68.cloudfront.net/b909493f11f68024690613b8e74903e723a51e0a/692ff/assets/icon-hand.png" /></p>
      </a>
      <a class="icon save">
        <img class="smaller" src="https://d33wubrfki0l68.cloudfront.net/e8161c3fe8d7b81ae0fc7829ea6cee1eaf5dc1de/6ae5f/assets/icon-disk.png" />
      </a>
      <a class="icon trash">
        <img class="smaller" src="https://d33wubrfki0l68.cloudfront.net/4e11aefb3790e4cc5575ec8eac2c5a74caedfd82/f27e4/assets/icon-trash.png" />
      </a>
    </div>

    <canvas id="canvas" class="primary"></canvas>
    <div class="tools">
      <div class="color tool tool-1">
        <div class="tool-button">
          <div class="tool-button-icon">
            <div
              class="tool-button-icon-inner"
              style="background-color: #000000"
            >
              <input
                class="input-field color-input"
                type="color"
                value="#000000"
              />
            </div>
          </div>
        </div>
      </div>
      <div class="text tool tool-2">
        <div class="tool-button">
          <div class="tool-button-icon">
            <div class="tool-button-icon-inner">a</div>
          </div>
        </div>
        <div class="controls">
          <textarea class="input-field text-input">
There was a table set out under a tree in front of the house, and the March Hare and the Hatter were having tea at it: a Dormouse was sitting between them, fast asleep, and the other two were using it as a cushion, resting their elbows on it, and talking over its head. 'Very uncomfortable for the Dormouse,' thought Alice; 'only, as it's asleep, I suppose it doesn't mind.'</textarea
          >
        </div>
      </div>
    </div>
    <script>
      window.onload = function () {
        var texter = new Texter();
        texter.initialize();
        (function Tools() {
          const tools = document.querySelectorAll(".tool-button");
          tools.forEach(function (tool) {
            tool.addEventListener("click", (e) => {
              e.target.closest(".tool").classList.toggle("open");

              e.target.closest(".tool").querySelector("input")?.click();
              e.target.closest(".tool").querySelector("input")?.focus();
              e.target.closest(".tool").querySelector("textarea")?.focus();
            });
          });

          const inputs = document.querySelectorAll(".input-field");
          inputs.forEach(function (input) {
            input.addEventListener("blur", (e) => {
              e.target.closest(".tool").classList.toggle("open");
            });
          });

          let input = document.querySelector(".color-input");
          input.addEventListener("input", (e) => {
            texter.applyNewColor(e.target.value);
            e.target.closest(".tool-button-icon-inner").style.backgroundColor =
              e.target.value;
          });

          let textInput = document.querySelector(".text-input");
          textInput.addEventListener("change", (e) => {
            texter.setText(e.target.value);
          });

          function save() {
            let downloadLink = document.createElement("a");
            downloadLink.setAttribute("download", "paint-toys-text-art.png");
            let canvas = document.getElementById("canvas");
            canvas.toBlob(function (blob) {
              let url = URL.createObjectURL(blob);
              downloadLink.setAttribute("href", url);
              downloadLink.click();
            });
          }

          let saveInput = document
            .querySelector(".save")
            .addEventListener("click", () => {
              save();
            });

          document.querySelector(".trash").addEventListener("click", () => {
            texter.fillBackground();
          });
        })();
      };
    </script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PRJ9ZMV44M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-PRJ9ZMV44M');
</script><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VJBRK9986D"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VJBRK9986D');
</script></body>
</html>
